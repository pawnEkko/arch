# 软件配置

基于ArchLinux已经完全安装完成之后，进行如下个性化配置

## 目录

* [reflector](#reflector)
* [i3-wm桌面环境](#i3-wm桌面环境)
* [alacritty](#alacritty)
* [cfw](#clash-for-windows)
* [必装字体](#必装字体)
* [中文输入法](#中文输入法)
* [zsh](#zsh)
* [rofi](#rofi)
* [picom混成器](#picom混成器)
* [polybar](#polybar)

---

## reflector

1. 下载reflector

```
sudo pacman -S reflector
```

2. 查询排列复写镜像源

```
sudo reflector --verbose -c China --latest 12 --sort rate --threads 100 --save /etc/pacman.d/mirrorlist
```

## i3-wm桌面环境

1. 下载i3-wm窗口管理器及渲染器等一系列依赖软件、插件

```
sudo pacman -S xorg xorg-xinit i3-wm i3lock i3status i3blocks dmenu feh alacritty
```

2. 将xorg-xinit的配置文件复制到根目录并设置为隐藏文件

```
sudo cp /etc/x11/xinit/xinitrc ~/.xinitrc
```

3. 编辑.xinitrc文件并做如下修改用以将i3wm作为默认启动桌面环境
   1. 在配置文件代码底部将以 twm & 开始的最后五行代码全部删除
   2. 2.输入 ``exec i3``并保存退出

4. 启动xorg，用以启动i3wm

```
startx
```

5. 修改分辨率（如果需要）， 可以在终端中使用xrandr命令来查询外接显示器的名称

```
xrandr --output 显示器名称 --mode 分辨率
```

6. i3的配置文件路径

```
~/.config/i3/config
```

* 我在GitHub保存的i3wm配置文件路径 

```
https://github.com/pawnEkko/arch/blob/master/config/i3-wm/config
```

## alacritty

> alacritty 是在安装i3桌面环境的时候一并安装的，这里只讲配置文件，因为有可能用不到

* alacritty的配置文件路径应该为

```
~/.config/alacritty/alacritty.yml
```

* 我的GitHub配置文件路径为

```
https://github.com/pawnEkko/arch/blob/master/config/alacritty/alacritty.yml
```

## clash-for-windows

1. 安装clash

```
yay -S clash-for-windows-bin
```

2. 寻找clash内核 ,执行以下代码以调出目录

```
pacman -Ql clash-for-windows-bin
```

3. 目录为上条代码中出现的以``clash-linux``结尾的目录，并执行以下命令

```
sudo setcap cap_net_admin=ep 目录
```

4. 打开clash for windows的tun

## 必装字体

```
sudo pacman -S otf-font-awesome
yay -S ttf-font-awesome-5
yay -S ttf-meslo-nerd-font-powerlevel10k
```

## 中文输入法

1. 下载输入法

```
sudo pacman -S fcitx5
```

2. 下载输入法配置工具

```
sudo pacman -S fcitx5-configtool
```

3. 配置fcitx5的环境变量

   1. 执行以下代码编辑环境变量文件

   ```
   sudo vim /etc/environment 
   ```

      			2. 写入以下代码并保存退出

   ```
   GTK_IM_MODULE=fcitx
   QT_IM_MODULE=fcitx
   XMODIFIERS=@im=fcitx
   SDL_IM_MODULE=fcitx
   GLFW_IM_MODULE=ibus
   ```

3. 重启后在终端中输入以下代码以配置输入法

```
fcitx5-configtool
```

5. 在打开的配置窗口中取消勾选最底部的 “only show current language”

6. 择中文输入法

> 以下步骤应该先被执行，但是如果在安装Arch的过程中操作过可以省略所以放在下面

1. 在终端中执行以下命令进入该文件进行编辑

```
sudo vim /etc/locale.gen
```

2. 在文件中将以下代码前的注释符号“#”去除

```
zh_CN.GB18030 GB18030  
zh_CN.GBK GBK  
zh_CN.UTF-8 UTF-8  
zh_CN GB2312  
zh_HK.UTF-8 UTF-8  
zh_HK BIG5-HKSCS  
zh_TW.EUC-TW EUC-TW  
zh_TW.UTF-8 UTF-8  
zh_TW BIG5  
```

3. 编辑完成后保存退出，并在终端中输入以下代码执行

```
sudo locale-gen
```

4. 编辑/etc/locale.conf--在文件中添加以下代码

```
LANG=zh_CN.UTF-8
```

## zsh

> zsh是shell,oh-my-zsh是主题插件，powerleve10k是主题名称

1. 安装zsh

```
sudo pacman -S zsh
```

2. 将bash更改为zsh，并重启终端

```
chsh -s /bin/zsh
```

3. 安装oh-my-zsh

```
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

4. 安装powerleve10k

```
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k
```

5. 将powerleve10k应用到zsh

```
echo 'source ~/powerlevel10k/powerlevel10k.zsh-theme' >>~/.zshrc
```

6. zsh的配置文件路径

```
～/.zsh
```

* 我在GitHub保存的zsh配置文件路径 

```
https://github.com/pawnEkko/arch/blob/master/config/oh-my-zsh/.zshrc
```

## rofi

1. 下载rofi

```
sudo pacman -S rofi
```

2. 创建安装主题的目录

```
mkdir -p ~/.local/share/rofi/themes/
```

3. 下载主题包

```
git clone https://github.com/lr-tech/rofi-themes-collection.git
```

4. 将主题复制到安装主题的目录（我自己喜欢用这个）

```
cp themes/rounded-common.rasi ~/.local/share/rofi/themes
cp themes/rounded-nord-dark.rasi ~/.local/share/rofi/themes
```

5. 选择主题

```
rofi-theme-selector
```

6. 添加图标 （非必需，需要的话就安装）--在任意一个主题文件中直接添加

```
configuration{
	show-icons:true;
	drun-icon-theme:"图标主题包名称"
}
```

## picom混成器

1. 下载picom

```
sudo pacman -S picom   
```

2. picom的配置文件路径

```
~/.config/picom.conf	
```

* 我在GitHub保存的picom配置文件路径 

```
https://github.com/pawnEkko/arch/blob/master/config/picom/picom.conf
```

## polybar

1. 下载polybar

```
sudo pacman -S polybar								
```

2. 终端执行此命令以确保配置文件可以被i3执行

```
chmod +x ~/.config/polybar/launch.sh	
```

3. polybar的配置文件夹路径(配置文件夹中应该包含  config.ini - 配置文件   以及 launch.sh 启动文件)

```
~/.config/polybar/
```

* GitHub保存的个人启动文件和配置文件路径

```
https://github.com/pawnEkko/arch/blob/master/config/polybar/
```

